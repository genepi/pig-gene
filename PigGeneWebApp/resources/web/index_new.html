<!DOCTYPE html>

<html lang="en" ng-app="pigGene">
<head>
<meta charset="utf-8">
<title>PigGene project</title>
<!-- jQuery -->
<script src="//ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
<!-- angular JS -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.2.13/angular.js"></script>
<!-- twitter bootstrap -->
<link href="//netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" rel="stylesheet">
<script src="//netdna.bootstrapcdn.com/bootstrap/3.1.1/js/bootstrap.min.js"></script>
<!-- x-editable -->
<link href="css/xeditable-0.1.8.css" rel="stylesheet">
<script src="javascript/xeditable-0.1.8.js"></script>
<!-- own styles and scripts -->
<link href="css/pigGene_new.css" rel="stylesheet">
<script src="javascript/pigGene_model.js"></script>
<script src="javascript/pigGene_controllers.js"></script>
</head>

<body>
	<nav class="navbar navbar-inverse" role="navigation">
		<div class="container-fluid">
			<div class="navbar-header">
		      	<a class="navbar-brand" href="#">pigGene project</a>
			</div>
			<div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
     			<ul class="nav navbar-nav" ng-controller="NavBarCtrl">
        			<li class="{{button.active}}" ng-show="button.showState" title="{{button.title}}" ng-repeat="button in buttons"><a href="#"><span class="glyphicon glyphicon-{{button.logo}}"></span> {{button.text}}</a></li>
       			</ul>
		</div>
	</nav>
	<br/>
	
	<div ng-controller="EditableRowCtrl">
		<table class="table table-striped table-hover">
			<tr>
				<th>relation</th>
				<th>input</th>
				<th>operation</th>
				<th>input2</th>
				<th>options</th>
				<th>options2</th>
				<th>comment</th>
				<th>edit</th>
			</tr>
			<tr class="active-row-{{step.active}}" ng-repeat="step in workflow">
				<td><span editable-text="step.relation" e-name="relation" e-form="rowform">{{step.relation}}</span></td>
				<td><span editable-text="step.input" e-name="input" e-form="rowform">{{step.input}}</span></td>
				<td><span editable-select="step.operation" e-name="operation" e-form="rowform" e-ng-options="o.name for o in operations">{{showStatus(step,$index)}}</span></td>
				<td><span editable-text="step.input2" e-name="input2" e-form="rowform">{{step.input2}}</span></td>
				<td><span editable-textarea="step.options" e-name="options" e-form ="rowform" e-rows="1" e-cols="60">{{step.options}}</span></td>
				<td><span editable-textarea="step.options2" e-name="options2" e-form ="rowform" e-rows="1" e-cols="60">{{step.options2}}</span></td>
				<td><span editable-textarea="step.comment" e-name="comment" e-form ="rowform" e-rows="1" e-cols="60">{{step.comment}}</span></td>
				<td style="white-space:nowrap">
					<form editable-form name="rowform" ng-show="rowform.$visible">
						<button type="submit" class="btn btn-success" ng-disabled="rowform.$waiting"><span class="glyphicon glyphicon-ok"></span></button>
						<button type="button" class="btn btn-default" ng-disabled="rowform.$waiting" ng-click="rowform.$cancel()"><span class="glyphicon glyphicon-remove"></span></button>
					</form>
					<div class="buttons" ng-show="!rowform.$visible">
						<button class="btn btn-primary" ng-click="rowform.$show()"><span class="glyphicon glyphicon-pencil"></span></button>
						<button class="btn btn-danger" ng-click="removeStep($index)"><span class="glyphicon glyphicon-trash"></span></button>
					</div>
				</td>
			</tr>
		</table>
		<button class="btn btn-default" ng-click="addStep()">add step</button>
	</div>
</body>
</html>